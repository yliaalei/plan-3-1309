/* Базовые настройки */
* { box-sizing: border-box; }
html,body { height:100%; margin:0; }
body {
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  background: #f7fbff;
  color: #0b2240;
  -webkit-text-size-adjust: 100%; /* предотвращает авто-zoom */
  padding: 12px;
}

/* Заголовок */
#header { text-align:center; margin-bottom:6px; }
#appTitle {
  font-family: 'Sweet Mavka Script', cursive;
  font-size: 36px;
  margin: 6px 0 12px 0;
  line-height:1;
}

/* Легенда цветов - по центру */
#colorLegend {
  display:flex;
  justify-content:center;
  gap:14px;
  align-items:center;
  margin-bottom:10px;
  font-size:14px;
}
.legend-item { display:flex; align-items:center; gap:8px; padding:2px 6px; background: rgba(255,255,255,0.7); border-radius:8px; }
.circle { width:16px; height:16px; border-radius:50%; border:1px solid #ccc; display:inline-block; }
.circle.free { background: #ffffff; }
.circle.family { background: #c8f7e8; }
.circle.health { background: #fff7c2; }
.circle.work { background: #ffd7ea; }
.circle.hobby { background: #e8e1ff; }

/* Навигация месяца */
#calendarNav { display:flex; justify-content:center; align-items:center; gap:12px; margin:8px 0; }
#calendarNav button { background:#fff; border:1px solid #d0d7df; padding:8px 12px; border-radius:8px; font-size:16px; }
#monthYear { font-weight:700; font-size:18px; min-width:180px; text-align:center; }

/* Дни недели */
#weekdays { display:grid; grid-template-columns: repeat(7, 1fr); gap:5px; margin-bottom:6px; }
#weekdays > div { font-weight:700; text-align:center; font-size:13px; }

/* Календарь - grid 7 cols */
#calendar { display:grid; grid-template-columns: repeat(7, 1fr); gap:6px; margin-bottom:20px; }
.day-cell {
  background: #ffffff;
  border: 1px solid rgba(11,34,64,0.06);
  border-radius:10px;
  padding:8px;
  min-height:64px;
  position:relative;
  overflow:hidden;
  display:flex;
  flex-direction:column;
}
.day-number { font-weight:700; color: #064a7b; font-size:14px; margin-bottom:6px; }

/* Стилевые переходы */
.day-cell { transition: background-color 200ms ease, transform 120ms ease; }
.day-cell:active { transform:scale(0.997); }

/* Меню (sheet) */
.sheet { position:fixed; left:0; right:0; bottom:0; background:rgba(255,255,255,0.98); border-top-left-radius:14px; border-top-right-radius:14px; padding:12px; box-shadow:0 -12px 30px rgba(8,25,50,0.12); display:none; z-index:80; }
.sheet.active { display:block; }
.sheet-inner { max-width:640px; margin:0 auto; text-align:center; }
.sheet-buttons { display:flex; gap:8px; justify-content:center; flex-wrap:wrap; margin:8px 0; }
.sheet button { padding:8px 12px; border-radius:8px; border:1px solid #d0d7df; background:#fff; }
.sheet-close { margin-top:6px; background:#fff0f0; border-color:#ffd2d2; }

/* Панели (редактор/тема) */
.panel { position:fixed; inset:0; background:rgba(250,252,255,0.98); display:none; z-index:90; overflow:auto; padding:16px; }
.panel.active { display:block; }
.panel-inner { max-width: 720px; margin:0 auto; }
.panel-top { display:flex; align-items:center; gap:12px; margin-bottom:12px; }
.backBtn { background:#fff; border:1px solid #d0d7df; padding:6px 10px; border-radius:8px; }

/* Текстовые поля Тема — +30% высоты (базово 100 -> 130) */
#tema_tema, #tema_goal, #tema_activity {
  width:100%;
  max-width:720px;
  height:130px; /* увеличено на ~30% */
  font-size:16px;
  padding:10px;
  border-radius:8px;
  border:1px solid #c9d3dc;
  resize:vertical;
  margin-bottom:10px;
  background:#fff;
}

/* Редактор (пост/сторис/рилс) — высота +30% */
#editorText {
  width:100%;
  max-width:720px;
  height:208px; /* ~160 * 1.3 */
  font-size:16px; /* предотвращает авто-zoom */
  padding:12px;
  border-radius:8px;
  border:1px solid #c9d3dc;
  resize:vertical;
  overflow-y:auto;
  background:#fff;
}

/* Кнопки редактора */
#copyBtn, .sheet button, .backBtn {
  cursor:pointer;
  font-size:15px;
}

/* Адаптация под маленькие экраны */
@media (max-width:420px) {
  #appTitle { font-size:30px; }
  #monthYear { min-width: 140px; font-size:16px; }
  #calendar { gap:6px; }
  .day-cell { min-height:64px; padding:8px; }
  #tema_tema, #tema_goal, #tema_activity { height:110px; } /* чуть поменьше на узких экранах */
  #editorText { height:180px; }
}
